UNDER DEVELOPMENT

* source *>.filterpattern task
:PROPERTIES:
:ID:       323F4572-818F-44AB-AD3A-7EB8FC336510
:eval-id:  4
:END:

Variants:
1. Play new source with filtered pattern on the task of a chuck

: { func } *>.pattern \chuck;

2. Play a chuck with filtered pattern on a named task

: \chuck *>.pattern \task;

3. Play a chuck with a filtered pattern on its own task, with a new time pattern
: \chuck *>.pattern timepattern;

4. (Extension of  3): Play new source to chuck and filter with pattern into new time pattern of own task

: { func } => \chuck *>.pattern timepattern;

#+BEGIN_SRC sclang
\sine *>.xo \whistle;
#+END_SRC

1. Get TaskPlayer of same name as Chuck
2. Set its duration pattern
3. Get Tox named _chuckname (prepend _ to chuckname to indicate sub-pattern)
4. Set Tox'es filter pattern to xopattern.
5. Connect Tox to TaskPlayer
6. Connect Chuck to Tox
7. Start TaskPlayer
** 5

: { func } ==> \chuckname *>.xopattern \symbol;

1. Get TaskPlayer or filter named by \symbol.
2. If it is a TaskPlayer, then create Tox using prepend _ rule and connect it to the TaskPlayer.
3. Set Tox'es filter pattern to xopattern.
4. Connect Tox to TaskPlayer
5. Connect Chuck to Tox
6. Start TaskPlayer

* 6

How to create other types of filters and connect them to TaskPlayers / Chucks?

: ClassName (parameters) *> \taskplayerorfilter

: \chuckname *>.filtername ClassName (parameters) *> \taskplayerorfilter

: { func } ==> \chuckname *>.filtername ClassName (parameters) *> \taskplayerorfilter


Generally provide a name in creation of Task Filters like this:?

: ClassName(filtername, parameters ...) ?????

or:

: ClassName(parameters...) *> \task-or-filtername ???

Possibly keep adding _ to name, to denote level of chaining of filters...

It becomes easy to notate the desired filter compctly

: \chuckorchuckname *>.xopattern \a

: \chuckorchuckname *>.xopattern \_a

: \chuckorchuckname *>.xopattern \__a


etc.

Also it's possible to check if the parent pattern exists or the pattern to be modified/set etc exists. ...

* Alternative order of *>
:PROPERTIES:
:ID:       C02E10E7-D094-446C-A6CF-69181F973532
:eval-id:  8
:END:

=0.1 *> \test= and =\test *> 0.1= both set the duration pattern of a task.  However, their meaning is different:

=\chuckname *> pattern= will always switch the Chuck to the TaskPlayer with the same name.  Thus, if Chuck =chuckname= was previously playing under Task =anothertask=, it will stop playing with =anothertask= and start playing with Task =chuckname=.

In order to just set the duration pattern of a TaskPlayer without affecting which Chucks are playing with it, use the revers order:

#+BEGIN_SRC sclang
0.1
#+END_SRC

#+BEGIN_SRC sclang
{ SinOsc.arps(Rand(500, 1000)) } => \test *> 0.1;
#+END_SRC

Therefore

: non-symbol, non-chuck *> \taskname;

Set pattern of \taskname task player and play

#+BEGIN_SRC sclang
[0.1.pn(20), 0.4.pn(5), 0.05.pn(40)].prand *> \test;
#+END_SRC

: non-symbol, non-chuck *>.xopattern \taskname;

if \taskname is a Tox type filter, set its pattern, else create a subfilter and connect it to taskplayer taskname, etc.

: non-symbol, non-chuck **> \taskname;

as =*>=, except do not start playing.
